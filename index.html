<script> 
    var x = 0;
</script>
<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
</head>
<body>
    <script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-firestore.js"></script>
    <div id="Odiv" onclick="show()">点击0次</div>
    <script>
        var time=0;        
        function show(){
            if(time%2==0){
                Odiv.style.background="pink";
                console.log(time);
                time++;
            }else{
                
                Odiv.style.background="yellow";
                console.log(time);
                time++;
            }
             document.getElementById('Odiv').innerHTML = "点击"+time+"次";    
        }
    </script>
    <script>
        var flag = 0;
        document.addEventListener('DOMContentLoaded', function() {
            firebase.initializeApp({
                databaseURL: "https://website-50a1d-default-rtdb.firebaseio.com/"
            });
            var database = firebase.database();
            database.ref('/').once('flag',e=>{
                flag = e.value();
            });
            document.getElementById('random').innerHTML = flag;
            if (flag == 0) {
                x = Math.random();
                document.getElementById('random').innerHTML = x;
            }
            database.ref('/').update({flag:1});
            database.ref('/').set({num:1}).then(function () {
                alert("建立成功");
            }).catch(function () {
                alert("伺服器發生錯誤，請稍後再試");
            });
        }, false);
    </script>
    <div class="row" style="margin:10px">
        <div class="col-md-12">
            <div class="form-group">
                <p>身高:
                <input id="txbHeight">
                </p>
                <p>體重:
                <input id="txbWeight">
                </p>
                <p>---><button id='countId'>計算</button>BMI = <em id='BMI'></em>~</p>
                <p>time =<em id='random'></em>.</p>
                <p>flag =<em id='flag'></em></p>
            </div>
        </div>
    </div>
</body>
</html>

<script>


    document.getElementById('countId').onclick = function cal() {
        //取得用戶輸入的參數
        var h = parseInt(document.getElementById('txbHeight').value);
        var w = parseInt(document.getElementById('txbWeight').value);
        document.getElementById("BMI").innerHTML = 100 * 100 * w / (h * h);
    }
    
</script>